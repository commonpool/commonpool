<div class="d-flex flex-row conversations-container">

  <div class="bg-white border-right channel-list">

    <ul class="list-group list-group-flush w-100">

      <ng-container *ngIf="groups$ | async; let groups">
        <li class="list-group-item"
            style="height: 2rem; padding-top: 0.35rem; padding-left: 0.5rem">
          ⯆ Channels
        </li>
        <ng-container *ngIf="groups.length > 0">

          <li
            class="list-group-item list-group-item-action rounded-0 message-container"
            *ngFor="let group of groups; trackBy: trackSubscription"
            [routerLink]="'/messages/c/' + group.channelId"
            [class.active]="(chat.currentConversation$ | async)?.id === group.channelId"
            style="height: 2rem; padding-top: 0.3rem; padding-left: 1rem"
          >
            <div class="message-content">
              <div class="title">#{{group.name}}</div>
            </div>
            <div class="message-icon">
              <app-circle-fill height="0.5em" width="0.5em" class="text-primary"></app-circle-fill>
            </div>
          </li>
        </ng-container>
        <li *ngIf="groups.length == 0" class="list-group-item rounded-0 ">
          <div class="title font-weight-bold p-1">
            No Messages
          </div>
        </li>
      </ng-container>

      <ng-container *ngIf="conversations$ | async; let convos">
        <ng-container *ngIf="convos.length > 0">
          <li class="list-group-item"
              style="height: 2rem; padding-top: 0.35rem; padding-left: 0.5rem">
            ⯆ Conversations
          </li>
          <li
            class="list-group-item list-group-item-action rounded-0 message-container"
            *ngFor="let convo of convos; trackBy: trackSubscription"
            [routerLink]="'/messages/c/' + convo.channelId"
            [class.active]="(chat.currentConversation$ | async)?.id === convo.channelId"
            style="height: 2rem; padding-top: 0.3rem; padding-left: 1rem"
          >
            <div class="message-content">
              <div class="title">{{convo.name}}</div>
            </div>
            <div class="message-icon">
              <app-circle-fill height="0.5em" width="0.5em" class="text-primary"></app-circle-fill>
            </div>
          </li>
        </ng-container>
        <li *ngIf="convos.length == 0" class="list-group-item rounded-0">
          <div class="title font-weight-bold p-1">
            No Messages
          </div>
        </li>
      </ng-container>


    </ul>
  </div>
  <div class="flex-grow-1" style="overflow: hidden">
    <router-outlet></router-outlet>

  </div>

</div>

