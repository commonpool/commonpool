<div class="thread">

  <ng-container *ngIf="messages$| async; let messages">
    <div *ngFor="let message of messages.messages" class="message" [ngClass]="{sentByMe: message.sentByMe}">
      <div class="header">
        <a class="sender" [routerLink]="'/profiles/' + message.sentBy">{{message.sentByUsername}}</a>&nbsp;<span class="sent-at">{{message.sentAtDate | date:'h:mmaaa'}}</span>
      </div>
      <div class="content">
        {{message.content}}
      </div>
    </div>
  </ng-container>

</div>

<div class="inputBox">
  <textarea [(ngModel)]="content" class="input" rows="1" (keydown.enter)="sendMessage()"></textarea>
  <button (click)="sendMessage()" class="submit">submit</button>
</div>
