<div id="search-row">
  <label for="searchBox">Search</label>
  <input id="searchBox" [ngModel]="query$ | async" (ngModelChange)="querySubject.next($event)" type="text"/>

  <label for="searchBox">Type</label>
  <select
    name="resourceType"
    id="resourceType"
    [ngModel]="resourceType$ | async"
    (ngModelChange)="resourceTypeSubject.next($event)">
    <option [ngValue]="undefined">All posts</option>
    <option [ngValue]="'offer'">Offer</option>
    <option [ngValue]="'request'">Request</option>
  </select>
</div>

<div id="resource-list">
  <div *ngIf="resources$ | async as resources">
    <div *ngIf="!(pending$ | async); else pending">
      <h4>
        <ng-container *ngIf="(resourceType$ | async) == 'offer'">
          Offers
        </ng-container>
        <ng-container *ngIf="(resourceType$ | async) == 'request'">
          Requests
        </ng-container>
        <ng-container *ngIf="(resourceType$ | async) == undefined">
          All Posts
        </ng-container>
      </h4>
      <div class="resource-shadow">
        <div class="resource" *ngFor="let resource of resources">
          <div class="resource-title">
            <h2
              class="mb-0"
              style="display:inline-block"
            >
              <b>
                <a [routerLink]="'/resources/' + resource.resourceId">{{resource.info.name}}</a>
              </b>
            </h2>
            <small> / value {{resource.info.value.timeValueFrom}}h-{{resource.info.value.timeValueTo}}h</small>
          </div>
          <div>
            ---
          </div>
          <div>
            {{resource.info.description}}
          </div>
          <div>
            ---
          </div>
          <div>
            <span *ngIf="resource.info.callType === 'offer'">offer </span>
            <span *ngIf="resource.info.callType === 'request'">request </span>
            by <b><a
            [routerLink]="'/users/' + resource.createdBy">{{resource.createdByName}}</a></b>
            / {{resource.createdAtDistanceAgo}}
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #pending>
    <div id="pendingIndicator">
      ...
    </div>
  </ng-template>
</div>

